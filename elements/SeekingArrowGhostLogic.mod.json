{
  "_fv": 73,
  "_type": "procedure",
  "definition": {
    "procedurexml": "<xml xmlns=\"https://developers.google.com/blockly/xml\"><block type=\"event_trigger\" deletable=\"false\" x=\"113\" y=\"-58\"><field name=\"trigger\">entity_attacked</field><next><block type=\"java_code\"><field name=\"CODE\">// 1. SAFE CAST: Check if this is actually an Attack Event&amp;#10;if (event instanceof net.minecraftforge.event.entity.living.LivingAttackEvent _event) {&amp;#10;    &amp;#10;    // 2. EXTRACT ENTITIES using the specific \"_event\" variable&amp;#10;    Entity immediatesourceentity = _event.getSource().getDirectEntity();&amp;#10;    Entity entity = _event.getEntity();&amp;#10;&amp;#10;    // 3. NULL CHECK&amp;#10;    if (immediatesourceentity != null &amp;&amp; entity != null) {&amp;#10;        &amp;#10;        // 4. IS THIS OUR SEEKING ARROW?&amp;#10;        if (immediatesourceentity.getPersistentData().getBoolean(\"ActivelySeeking\")) {&amp;#10;&amp;#10;            // 5. IS THE VICTIM *NOT* AN ENEMY?&amp;#10;            // We allow hits on Monsters. We BLOCK hits on everything else (Pets, Cows, Players).&amp;#10;            if (!(entity instanceof net.minecraft.world.entity.monster.Enemy)) {&amp;#10;                &amp;#10;                // 6. CANCEL THE DAMAGE&amp;#10;                // This makes the arrow ghost through harmlessly.&amp;#10;                if (event.isCancelable()) {&amp;#10;                    event.setCanceled(true);&amp;#10;                }&amp;#10;            }&amp;#10;        }&amp;#10;    }&amp;#10;}</field></block></next></block></xml>"
  }
}